(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71],{6067:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/basic/3-cursor-item-reader-vs-paging-item-reader",function(){return t(1678)}])},1678:function(e,r,t){"use strict";t.r(r),t.d(r,{__toc:function(){return c}});var n=t(5893),i=t(2673),d=t(373),a=t(8426);t(9128);var s=t(2643);let c=[{depth:2,value:"CursorItemReader, PagingItemReader",id:"cursoritemreader-pagingitemreader"},{depth:2,value:"Cursor vs Paging",id:"cursor-vs-paging"},{depth:2,value:"JdbcCursorItemReader vs JdbcPagingItemReader",id:"jdbccursoritemreader-vs-jdbcpagingitemreader"},{depth:2,value:"JpaCursorItemReader vs Jdbc PagingItemReader",id:"jpacursoritemreader-vs-jdbc-pagingitemreader"}];function _createMdxContent(e){let r=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.a)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h2,{id:"cursoritemreader-pagingitemreader",children:"CursorItemReader, PagingItemReader"}),"\n",(0,n.jsx)(r.h2,{id:"cursor-vs-paging",children:"Cursor vs Paging"}),"\n",(0,n.jsx)(r.p,{children:"Cursor 기반 조회"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Cursor 기반 처리는 커넥션을 열어두고, Cursor 를 통해서 데이터를 한 포인트씩 옮기면서 처리하는 것을 의미합니다."}),"\n",(0,n.jsxs)(r.li,{children:["장점","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Cursor 기반 처리는 커넥션을 자주 열지 않고, 한번 열어둔 커넥션 내에서 모든 데이터를 가져오기에 Connection 빈도가 낮아서 성능이 좋습니다."}),"\n",(0,n.jsx)(r.li,{children:"반면 Connection 을 오랫동안 유지해야 한다는 점은 Database 입장에서는 부담이 될 수 있으며, 하나의 Connection 에서 처리를 수행하기에 Thread Safe 하지 않습니다."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["단점","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"모든 결과를 메모리에 할당하기 때문에 시스템 자원을 많이 소모한다는 단점이 있습니다."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(r.p,{children:"Paging 기반 조회"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Paging 이란 mysql 의 limit, offset 과 같은 쿼리를 통해 데이터를  m 건 단위(",(0,n.jsx)(r.code,{children:"limit"}),")로 끊어올때   n 페이지(",(0,n.jsx)(r.code,{children:"offset"}),") 위치에서 ",(0,n.jsx)(r.code,{children:"limit"})," 만큼 데이터를 읽어오는 방식을 의미합니다."]}),"\n",(0,n.jsx)(r.li,{children:"Database 에 자주 Connection 요청을 해야 해서 IO 로 인한 지연현상이 발생한다는 단점이 있지만, Connection 유지 시간이 짧아서 Database에 부하를 덜 주게 됩니다."}),"\n",(0,n.jsx)(r.li,{children:"Connection 을 필요할 때마다 하기에 Thread Safe 합니다."}),"\n",(0,n.jsx)(r.li,{children:"결과를 페이징 단위로 가져오기에, Cursor 기반에 비해 더 적은 메모리를 사용한다는 장점이 있습니다."}),"\n"]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(r.h2,{id:"jdbccursoritemreader-vs-jdbcpagingitemreader",children:"JdbcCursorItemReader vs JdbcPagingItemReader"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{}),(0,n.jsx)(r.th,{children:"JdbcCursorItemReader"}),(0,n.jsx)(r.th,{children:"JdbcPagingItemReader"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"datasource"}),(0,n.jsx)(r.td,{children:"JDBC Datasource"}),(0,n.jsx)(r.td,{children:"JDBC Datasource"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"beanMapper, rowMapper"}),(0,n.jsx)(r.td,{}),(0,n.jsx)(r.td,{})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"SQL"}),(0,n.jsx)(r.td,{children:"조회 쿼리 직접 작성"}),(0,n.jsx)(r.td,{children:"No (미지원)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"DSL"}),(0,n.jsx)(r.td,{children:"No (미지원)"}),(0,n.jsx)(r.td,{children:"selectClause, fromClause, whereClause, queryProvider 를 사용한 쿼리 작성"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"fetchSize"}),(0,n.jsx)(r.td,{children:"cursor 를 이용해 fetch 할  fetchSize"}),(0,n.jsx)(r.td,{children:"JdbcTemplate.fetchSize"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"pageSize"}),(0,n.jsx)(r.td,{children:"No (미지원)"}),(0,n.jsx)(r.td,{children:"paging 시 지정하는 page 크기 (offset/limit)"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"jpacursoritemreader-vs-jdbc-pagingitemreader",children:"JpaCursorItemReader vs Jdbc PagingItemReader"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{}),(0,n.jsx)(r.th,{children:"JpaCursorItemReader"}),(0,n.jsx)(r.th,{children:"JpaPagingItemReader"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"entityManagerFactory"}),(0,n.jsx)(r.td,{children:"JPA 코드 실행에 필요한 EntityManager 객체 생성을 위한 EntityManagerFactory"}),(0,n.jsx)(r.td,{children:"JPA 코드 실행에 필요한 EntityManager 객체 생성을 위한 EntityManagerFactory"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"queryString"}),(0,n.jsx)(r.td,{children:"SQL 조회 쿼리 직접 작성"}),(0,n.jsx)(r.td,{children:"No (미지원)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"DSL"}),(0,n.jsx)(r.td,{children:"No (미지원)"}),(0,n.jsx)(r.td,{children:"selectClause, fromeClause, whereClause"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"pageSize"}),(0,n.jsx)(r.td,{children:"No (미지원)"}),(0,n.jsx)(r.td,{children:"paging 에 사용될 page 크기 (offset/limit)"})]})]})]})]})}let o={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.a)(),e.components);return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/basic/3-cursor-item-reader-vs-paging-item-reader.mdx",route:"/basic/3-cursor-item-reader-vs-paging-item-reader",timestamp:1719525638e3,pageMap:[{kind:"Folder",name:"advanced",route:"/advanced",children:[{kind:"MdxPage",name:"chunk-oriented-tasklet--chunk-provider--chunk-processor",route:"/advanced/chunk-oriented-tasklet--chunk-provider--chunk-processor"},{kind:"MdxPage",name:"etc",route:"/advanced/etc"},{kind:"Meta",data:{"chunk-oriented-tasklet--chunk-provider--chunk-processor":" ChunkOrientedTasklet, ChunkProvider, ChunkProcessor",etc:"Etc"}}]},{kind:"MdxPage",name:"advanced",route:"/advanced"},{kind:"Folder",name:"basic",route:"/basic",children:[{kind:"MdxPage",name:"1-setting-hellobatch",route:"/basic/1-setting-hellobatch"},{kind:"MdxPage",name:"2.1-architecture",route:"/basic/2.1-architecture"},{kind:"MdxPage",name:"2.2-spring-batch-essential",route:"/basic/2.2-spring-batch-essential"},{kind:"MdxPage",name:"3-cursor-item-reader-vs-paging-item-reader",route:"/basic/3-cursor-item-reader-vs-paging-item-reader"},{kind:"MdxPage",name:"4-jdbc-batch-item-writer-vs-jpa-item-writer",route:"/basic/4-jdbc-batch-item-writer-vs-jpa-item-writer"},{kind:"MdxPage",name:"csv-read-write-example",route:"/basic/csv-read-write-example"},{kind:"MdxPage",name:"job-config-live-template-creation",route:"/basic/job-config-live-template-creation"},{kind:"Meta",data:{"1-setting-hellobatch":"Setting + Hello,Spring Batch","job-config-live-template-creation":"JobConfig Live Template 만들기","2.1-architecture":"기본 구조","2.2-spring-batch-essential":"Spring Batch Essential","csv-read-write-example":"CSV 파일 읽기/쓰기 예제","3-cursor-item-reader-vs-paging-item-reader":"CursorItemReader, PagingItemReader","4-jdbc-batch-item-writer-vs-jpa-item-writer":"JdbcBatchItemWriter vs JpaItemWriter"}}]},{kind:"MdxPage",name:"basic",route:"/basic"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"info",route:"/info"},{kind:"Folder",name:"todo",route:"/todo",children:[{kind:"MdxPage",name:"need-to-paging-based-processing",route:"/todo/need-to-paging-based-processing"},{kind:"Meta",data:{"need-to-paging-based-processing":"Need to Paging Based Processing"}}]},{kind:"MdxPage",name:"todo",route:"/todo"},{kind:"Meta",data:{index:"Introduction",basic:"Basic",advanced:"Advanced",todo:"Todo",etc:"기타 개념들",info:"자료모음",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"3 Cursor Item Reader Vs Paging Item Reader",headings:c},pageNextRoute:"/basic/3-cursor-item-reader-vs-paging-item-reader",nextraLayout:d.ZP,themeConfig:a.Z};r.default=(0,i.j)(o)},8426:function(e,r,t){"use strict";var n=t(5893);t(7294);let i={logo:(0,n.jsx)("span",{children:"Docs Spring Batch"}),project:{link:"https://github.com/chagchagchag/docs-spring-batch"},docsRepositoryBase:"https://github.com/chagchagchag/docs-spring-batch",footer:{text:"Nextra Docs Template"}};r.Z=i},5789:function(){}},function(e){e.O(0,[774,796,888,179],function(){return e(e.s=6067)}),_N_E=e.O()}]);