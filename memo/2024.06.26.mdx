spring batch job 내에서 다른 job 의 public 메서드가 호출되는 기이한 버그를 오늘 알게되었다.<br/>
이게 spring batch 버전 탓인지도 알아봐야 하고 회사 소스에서 어느 정도는 힌트를 얻어야 할 것 같다.<br/>
회사 코드에는 이런 이슈가 없다.<br/>

패캠 예제에서도, 유명한 예제 깃헙 리포지터리내의 예제에서도 왠지 Job 내에서 호출하는 reader, writer, processor 는 모두 private 으로 선언했더라.<br/>
<br/>

이 문제를 3일 정도 겪으면서 다른 스터디도 했는데, 잠깐 이쪽 공부하고 하는 것들이 버겁게 느껴졌었다. 안찾아지는 버그여서 스트레스를 좀 받았다. 어떻게 찾았는지 과정을 정리해보면 아래와 같았다.<br/>

- application.yml 내에 sql.init 관련 설정을 모두 주석처리해둔다.<br/>
- 로그 레벨 debug 모드로 돌려본다.
- 로그에서 특이점을 못찾았다면 디버깅을 해서 다른 Job 들도 호출되는지를 살펴본다.

이 과정에서 예전에 작업했던 디버그 브레이킹 포인트를 지우지 않고 그대로 두어서 버그를 찾을 수 있게 되었다.
만약 디버그 브레이킹 포인트가 없던 상태였다면 영영 못찾았을 지도 모른다.<br/>

이 외에도 마음을 심란하게 하는 외적인 이슈가 있었다. 생각해보니 결론은 간단했다.<br/>
- 그냥 나를 계속해서 우스워지게만 만드는 사람이니 마음 접자.

마음도 아팠고 잠도 좀 설쳤는데, 이 결론이 맞다는 생각을 했다. 그냥 그분의 뭔가 비웃는 듯한 느낌이 가끔씩 느껴졌었다. 맞다는 생각인지 아닌지부터 고민하느라 잠을 설쳤었다. 비웃으니까 그렇게 해왔던거겠지? 아니다 그렇진 않을거야? 하면서 고민했었다. 그렇게 고민하다가 

- '내가 너무 힘들면 그만두는게 맞다. 지랄하지말고 자자' 
- '결과만 봤을 때 내가 우스워서 그런게 맞다.'

하면서 결론을 내렸다.<br/>

버그도 찾았고, 안풀리던 사회적 이슈(?)도 바라보는 관점을 바꿔서 해결했다.<br/>

오늘부터는 더 열심히 할 수 있을 거라구!!<br/>

<br/>

